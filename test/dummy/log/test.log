  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.5ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.3ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.4ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-09 23:08:34.187176"], ["updated_at", "2015-07-09 23:08:34.187176"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateCachedTypeARecords (20150709151100)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.6ms)[0m  [1mCREATE TABLE "cached_type_a_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150709151100"]]
  [1m[36m (0.7ms)[0m  [1mcommit transaction[0m
Migrating to CreateCachedTypeBRecords (20150709151130)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.3ms)[0m  [1mCREATE TABLE "cached_type_b_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150709151130"]]
  [1m[36m (0.6ms)[0m  [1mcommit transaction[0m
Migrating to CreatePolyRecords (20150709151200)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePolyRecords (20150709151200)
  [1m[35m (0.1ms)[0m  begin transaction
  [1m[36m (0.4ms)[0m  [1mCREATE TABLE "poly_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "detail_id" integer, "detail_type" varchar, "cached_type_b_record_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (1.0ms)[0m  [1mCREATE  INDEX "index_poly_records_on_detail_type_and_detail_id" ON "poly_records" ("detail_type", "detail_id")[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150709151200"]]
  [1m[36m (0.9ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_poly_records_on_detail_type_and_detail_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_poly_records_on_detail_type_and_detail_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_poly_records_on_detail_type_and_detail_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_poly_records_on_detail_type_and_detail_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-09 23:21:27.307348"], ["updated_at", "2015-07-09 23:21:27.307348"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (1.0ms)[0m  DELETE FROM "associated_records"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "associated_records" ("id", "cached_record_id", "created_at", "updated_at") VALUES (1, 1, '2015-07-10 00:47:37', '2015-07-10 00:47:37')[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "associated_records" ("id", "cached_record_id", "created_at", "updated_at") VALUES (2, 2, '2015-07-10 00:47:37', '2015-07-10 00:47:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "cached_records"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "cached_records" ("id", "name", "created_at", "updated_at") VALUES (1, 'Paul', '2015-07-10 00:47:37', '2015-07-10 00:47:37')
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "cached_records" ("id", "name", "created_at", "updated_at") VALUES (2, 'John', '2015-07-10 00:47:37', '2015-07-10 00:47:37')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "cached_type_a_records"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "cached_type_a_records" ("id", "name", "created_at", "updated_at") VALUES (1, 'type_a_1', '2015-07-10 00:47:37', '2015-07-10 00:47:37')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "cached_type_b_records"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "cached_type_b_records" ("id", "name", "created_at", "updated_at") VALUES (1, 'type_b_1', '2015-07-10 00:47:37', '2015-07-10 00:47:37')[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "non_primary_associateds"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "non_primary_associateds" ("id", "name", "created_at", "updated_at") VALUES (1, 'John', '2015-07-10 00:47:37', '2015-07-10 00:47:37')[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "non_primary_associateds" ("id", "name", "created_at", "updated_at") VALUES (2, 'Paul', '2015-07-10 00:47:37', '2015-07-10 00:47:37')
  [1m[36mFixture Delete (0.4ms)[0m  [1mDELETE FROM "poly_records"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "poly_records" ("id", "name", "detail_type", "detail_id", "cached_type_b_record_id", "created_at", "updated_at") VALUES (1, 'poly_type_a', 'CachedTypeARecord', 1, 1, '2015-07-10 00:47:37', '2015-07-10 00:47:37')
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "poly_records" ("id", "name", "detail_type", "detail_id", "cached_type_b_record_id", "created_at", "updated_at") VALUES (2, 'poly_type_b', 'CachedTypeBRecord', 1, 1, '2015-07-10 00:47:37', '2015-07-10 00:47:37')[0m
  [1m[35m (0.9ms)[0m  commit transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 00:47:58.664875"], ["updated_at", "2015-07-10 00:47:58.664875"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 00:49:46.041990"], ["updated_at", "2015-07-10 00:49:46.041990"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedTypeARecord Load (0.0ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 00:52:44.563504"], ["updated_at", "2015-07-10 00:52:44.563504"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.1ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedTypeARecord Load (0.0ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 00:53:32.269299"], ["updated_at", "2015-07-10 00:53:32.269299"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedTypeARecord Load (0.0ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 00:56:32.053178"], ["updated_at", "2015-07-10 00:56:32.053178"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedTypeARecord Load (0.0ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 01:27:26.053630"], ["updated_at", "2015-07-10 01:27:26.053630"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedTypeARecord Load (0.0ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 01:27:46.532130"], ["updated_at", "2015-07-10 01:27:46.532130"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreatePolyRecords (20150709151200)
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
  [1m[35m (2.0ms)[0m  DROP TABLE "poly_records"
  [1m[36mSQL (0.5ms)[0m  [1mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20150709151200"]]
  [1m[35m (0.7ms)[0m  commit transaction
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'

  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreatePolyRecords (20150709151200)
  [1m[35m (0.0ms)[0m  begin transaction
  [1m[36m (1.1ms)[0m  [1mCREATE TABLE "poly_records" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "detail_id" integer, "detail_type" varchar, "cached_type_b_record_id" integer, "cached_type_a_record_id" integer, "created_at" datetime, "updated_at" datetime) [0m
  [1m[35m (0.0ms)[0m  select sqlite_version(*)
  [1m[36m (0.1ms)[0m  [1mCREATE  INDEX "index_poly_records_on_detail_type_and_detail_id" ON "poly_records" ("detail_type", "detail_id")[0m
  [1m[35mSQL (0.1ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES (?)  [["version", "20150709151200"]]
  [1m[36m (0.8ms)[0m  [1mcommit transaction[0m
  [1m[35mActiveRecord::SchemaMigration Load (0.1ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1m            SELECT sql
            FROM sqlite_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_associated_records_on_cached_record_id' AND type='index'
[0m
  [1m[35m (0.1ms)[0m              SELECT sql
            FROM sqlite_master
            WHERE name='index_poly_records_on_detail_type_and_detail_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_poly_records_on_detail_type_and_detail_id' AND type='index'

  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
  [1m[35mFixture Delete (0.4ms)[0m  DELETE FROM "associated_records"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "associated_records" ("id", "cached_record_id", "created_at", "updated_at") VALUES (1, 1, '2015-07-10 01:45:49', '2015-07-10 01:45:49')[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "associated_records" ("id", "cached_record_id", "created_at", "updated_at") VALUES (2, 2, '2015-07-10 01:45:49', '2015-07-10 01:45:49')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "cached_records"[0m
  [1m[35mFixture Insert (0.0ms)[0m  INSERT INTO "cached_records" ("id", "name", "created_at", "updated_at") VALUES (1, 'Paul', '2015-07-10 01:45:49', '2015-07-10 01:45:49')
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "cached_records" ("id", "name", "created_at", "updated_at") VALUES (2, 'John', '2015-07-10 01:45:49', '2015-07-10 01:45:49')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "cached_type_a_records"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "cached_type_a_records" ("id", "name", "created_at", "updated_at") VALUES (1, 'type_a_1', '2015-07-10 01:45:49', '2015-07-10 01:45:49')[0m
  [1m[35mFixture Delete (0.0ms)[0m  DELETE FROM "cached_type_b_records"
  [1m[36mFixture Insert (0.0ms)[0m  [1mINSERT INTO "cached_type_b_records" ("id", "name", "created_at", "updated_at") VALUES (1, 'type_b_1', '2015-07-10 01:45:49', '2015-07-10 01:45:49')[0m
  [1m[35mFixture Delete (0.1ms)[0m  DELETE FROM "non_primary_associateds"
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "non_primary_associateds" ("id", "name", "created_at", "updated_at") VALUES (1, 'John', '2015-07-10 01:45:49', '2015-07-10 01:45:49')[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "non_primary_associateds" ("id", "name", "created_at", "updated_at") VALUES (2, 'Paul', '2015-07-10 01:45:49', '2015-07-10 01:45:49')
  [1m[36mFixture Delete (0.1ms)[0m  [1mDELETE FROM "poly_records"[0m
  [1m[35mFixture Insert (0.1ms)[0m  INSERT INTO "poly_records" ("id", "name", "detail_type", "detail_id", "cached_type_a_record_id", "created_at", "updated_at") VALUES (1, 'poly_type_a', 'CachedTypeARecord', 1, 1, '2015-07-10 01:45:49', '2015-07-10 01:45:49')
  [1m[36mFixture Insert (0.1ms)[0m  [1mINSERT INTO "poly_records" ("id", "name", "detail_type", "detail_id", "cached_type_b_record_id", "cached_type_a_record_id", "created_at", "updated_at") VALUES (2, 'poly_type_b', 'CachedTypeBRecord', 1, 1, 1, '2015-07-10 01:45:49', '2015-07-10 01:45:49')[0m
  [1m[35m (0.8ms)[0m  commit transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ? LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 01:46:17.258718"], ["updated_at", "2015-07-10 01:46:17.258718"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.5ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 16:26:05.485789"], ["updated_at", "2015-07-10 16:26:05.485789"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.4ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.4ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.8ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.4ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 16:27:43.868611"], ["updated_at", "2015-07-10 16:27:43.868611"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 16:29:27.314894"], ["updated_at", "2015-07-10 16:29:27.314894"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.1ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 16:37:57.518231"], ["updated_at", "2015-07-10 16:37:57.518231"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 16:44:46.282026"], ["updated_at", "2015-07-10 16:44:46.282026"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.2ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.2ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.3ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.3ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.3ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.3ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.6ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.3ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 17:04:53.698895"], ["updated_at", "2015-07-10 17:04:53.698895"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.6ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.1ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeBRecord"]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 17:05:18.279194"], ["updated_at", "2015-07-10 17:05:18.279194"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.4ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 17:16:20.535658"], ["updated_at", "2015-07-10 17:16:20.535658"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.1ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.4ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36mCachedTypeBRecord Load (0.1ms)[0m  [1mSELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 17:18:01.593969"], ["updated_at", "2015-07-10 17:18:01.593969"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.1ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 17:18:26.144423"], ["updated_at", "2015-07-10 17:18:26.144423"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35mCachedTypeBRecord Load (0.1ms)[0m  SELECT  "cached_type_b_records".* FROM "cached_type_b_records" WHERE "cached_type_b_records"."id" = ?  ORDER BY "cached_type_b_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.2ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 17:20:06.832727"], ["updated_at", "2015-07-10 17:20:06.832727"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.4ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.5ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.4ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (1.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.4ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 18:00:03.681845"], ["updated_at", "2015-07-10 18:00:03.681845"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 18:01:03.974007"], ["updated_at", "2015-07-10 18:01:03.974007"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 18:03:36.457964"], ["updated_at", "2015-07-10 18:03:36.457964"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.3ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 18:03:47.363036"], ["updated_at", "2015-07-10 18:03:47.363036"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.2ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.2ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 12345]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.2ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.2ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records"."id" FROM "cached_records"
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 18:04:36.809965"], ["updated_at", "2015-07-10 18:04:36.809965"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.3ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.2ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mDELETE FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.8ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mAssociatedRecord Load (0.1ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)  [["created_at", "2015-07-10 18:04:53.393272"], ["updated_at", "2015-07-10 18:04:53.393272"]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.1ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?  [["id", 1], ["name", "Bogus"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[35mCachedTypeARecord Load (0.1ms)[0m  SELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.0ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.1ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1[0m  [["id", 2]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.1ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.1ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36mNonPrimaryAssociated Load (0.0ms)[0m  [1mSELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.2ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_with_some_cached_records_should_query_for_additional_records
---------------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 2[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_persist_records_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.1ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = 1[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------
ActiveRecordCacheTest: test_#find(id)_should_use_the_cache
----------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_all_records_should_NOT_persist_them_to_the_cache
------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_cached_associations_should_use_the_cache
------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_saving_a_record_should_write_it_to_the_cache
------------------------------------------------------------------------
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "cached_records" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2015-07-10 18:06:54.935187"], ["updated_at", "2015-07-10 18:06:54.935187"]]
  [1m[35m (0.0ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.9ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-------------------------------------------
ActiveRecordCacheTest: test_polymorphic_fix
-------------------------------------------
  [1m[36mCachedTypeARecord Load (0.1ms)[0m  [1mSELECT  "cached_type_a_records".* FROM "cached_type_a_records" WHERE "cached_type_a_records"."id" = ?  ORDER BY "cached_type_a_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[36mPolyRecord Load (0.0ms)[0m  [1mSELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."detail_id" = ? AND "poly_records"."detail_type" = ? LIMIT 1[0m  [["detail_id", 1], ["detail_type", "CachedTypeARecord"]]
  [1m[35mPolyRecord Load (0.1ms)[0m  SELECT  "poly_records".* FROM "poly_records" WHERE "poly_records"."id" = ?  ORDER BY "poly_records"."id" ASC LIMIT 1  [["id", 2]]
  [1m[36m (0.1ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
------------------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
------------------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.1ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" IN ('John')[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------
ActiveRecordCacheTest: test_preloading_associations_should_use_the_cache
------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mAssociatedRecord Load (0.0ms)[0m  [1mSELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-------------------------------------------------------------------------------
ActiveRecordCacheTest: test_destroying_a_record_should_remove_it_from_the_cache
-------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  DELETE FROM "cached_records" WHERE "cached_records"."id" = ?  [["id", 1]]
  [1m[36m (0.0ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id,_:other_=>_criteria)_should_NOT_use_the_cache
------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ? AND "cached_records"."name" = ?[0m  [["id", 1], ["name", "Bogus"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_accessing_associations_should_persist_records_to_the_cache
--------------------------------------------------------------------------------------
  [1m[35mAssociatedRecord Load (0.0ms)[0m  SELECT  "associated_records".* FROM "associated_records" WHERE "associated_records"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
----------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_a_where_should_NOT_persist_them_to_the_cache
----------------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ?  [["name", "John"]]
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.1ms)[0m  begin transaction
-----------------------------------------------------------
ActiveRecordCacheTest: test_#find(ids)_should_use_the_cache
-----------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_missing_records_should_still_throw_errors
-----------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 12345]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 12345)[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
-----------------------------------------------------------------
ActiveRecordCacheTest: test_#select(:id)_should_NOT_use_the_cache
-----------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records"."id" FROM "cached_records"[0m
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
---------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_loading_records_using_find_should_persist_them_to_the_cache
---------------------------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.1ms)[0m  SELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)
  [1m[36m (0.0ms)[0m  [1mrollback transaction[0m
  [1m[35m (0.0ms)[0m  begin transaction
-------------------------------------------------------------------------------------------------------
ActiveRecordCacheTest: test_associations_that_do_not_reference_the_primary_key_should_NOT_use_the_cache
-------------------------------------------------------------------------------------------------------
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" IN (1, 2)[0m
  [1m[35mNonPrimaryAssociated Load (0.0ms)[0m  SELECT  "non_primary_associateds".* FROM "non_primary_associateds" WHERE "non_primary_associateds"."id" = ? LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.1ms)[0m  [1mSELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."name" = ? LIMIT 1[0m  [["name", "John"]]
  [1m[35m (0.0ms)[0m  rollback transaction
  [1m[36m (0.0ms)[0m  [1mbegin transaction[0m
--------------------------------------------------------------------
ActiveRecordCacheTest: test_#where(:id_=>_id)_does_NOT_use_the_cache
--------------------------------------------------------------------
  [1m[35mCachedRecord Load (0.0ms)[0m  SELECT  "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?  ORDER BY "cached_records"."id" ASC LIMIT 1  [["id", 1]]
  [1m[36mCachedRecord Load (0.0ms)[0m  [1mSELECT "cached_records".* FROM "cached_records" WHERE "cached_records"."id" = ?[0m  [["id", 1]]
  [1m[35m (0.0ms)[0m  rollback transaction
